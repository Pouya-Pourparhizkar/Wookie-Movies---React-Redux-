(this.webpackJsonpwookie=this.webpackJsonpwookie||[]).push([[0],{105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(8),a=n.n(r),s=n(15),o=n(17),l=n(66),d=n(38),u=n(39),v=n(44),j=n(43),h=n(73),b=n(34),p=n.n(b),m=n(49),O=n(67),f=n.n(O).a.create({baseURL:"https://wookie.codesubmit.io",headers:{Authorization:"Bearer Wookie2019"}}),x=n(28),g=n.n(x),C=function(){return function(){var e=Object(m.a)(p.a.mark((function e(t,n){var i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="/movies",n().searchTerm&&(i="/movies?q=".concat(n().searchTerm)),t({type:"START_FETCHING"}),e.next=5,f.get(i);case 5:c=e.sent,t(M(c.data.movies)),t({type:"FETCH_MOVIES",payload:c.data.movies});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},M=function(e){return{type:"GET_GENRES",payload:g.a.union.apply(g.a,Object(h.a)(g.a.map(e,"genres")))}},y=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,i){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SELECT_MOVIE",payload:i().movies.list[e]});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},E=(n(105),n(147)),N=n(4),T=function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){e.props.fetchMovies()},e.openMovieDetail=function(t){return function(n){n.stopPropagation(),e.props.selectMovie(t)}},e.renderMovies=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.filter((function(e){return-1!==e.genres.indexOf(n)})).map((function(t){return Object(N.jsx)("div",{className:"imageContainer",onClick:e.openMovieDetail(t.id),children:Object(N.jsx)("img",{src:t.backdrop,alt:t.title,className:"movieImage"})},n+t.id)}))},e.renderGenres=function(){var t=e.props.movies,n=e.props.genres;return t&&n&&t.length?n.map((function(n,i){return Object(N.jsxs)("div",{className:"genreContainer",children:[Object(N.jsx)("div",{className:"genreTitle",children:n}),Object(N.jsx)("hr",{}),Object(N.jsx)("div",{className:"moviesContainer",children:e.renderMovies(t,n)})]},i)})):Object(N.jsx)("div",{className:"NoResultContainer",children:"No Result Found!"})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(N.jsx)("div",{className:"movieListContainer",children:this.props.isFetching?Object(N.jsx)("div",{className:"isfetchingContainer",children:Object(N.jsx)(E.a,{})}):this.renderGenres()})}}]),n}(c.a.Component),w=Object(s.b)((function(e){return{movies:Object.values(e.movies.list),genres:e.genres,isFetching:e.movies.isFetching}}),{fetchMovies:C,selectMovie:y})(T),_=n(151),S=(n(107),function(e){Object(v.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).inputTimeoutId=0,e.onChange=function(t){e.props.applySearch(t.target.value),clearTimeout(e.inputTimeoutId),e.inputTimeoutId=setTimeout((function(){e.props.fetchMovies()}),500)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"searchBoxContainer",children:[Object(N.jsx)("div",{className:"applicationNameContainer",children:Object(N.jsxs)("h2",{children:["WOOKIE",Object(N.jsx)("br",{}),"MOVIES"]})}),Object(N.jsx)("div",{className:"inputContainer",children:Object(N.jsx)(_.a,{value:this.props.searchTerm,onChange:this.onChange,style:{width:"300px"},label:"Search"})})]})}}]),n}(c.a.Component)),k=Object(s.b)((function(e){return{searchTerm:e.searchTerm}}),{applySearch:function(e){return{type:"APPLY_SEARCH",payload:e}},fetchMovies:C})(S),I=n(152),F=n(72),R=n.n(F),L=(n(108),Object(s.b)((function(e){return{selectedMovie:e.movies.selectedMovie}}),{selectMovie:y})((function(e){var t=Object(i.useRef)(),n=function(e){"Escape"===e.key&&r()},c=function(e){t.current.contains(e.target)||r()};Object(i.useEffect)((function(){return document.addEventListener("keydown",n),document.addEventListener("click",c),function(){document.removeEventListener("keydown",n),document.removeEventListener("click",c)}}),[]);var r=function(){e.selectMovie(null)},s=document.querySelector("#modal");return s?a.a.createPortal(Object(N.jsxs)("div",{className:"movieDetailContainer",ref:t,children:[Object(N.jsxs)("div",{className:"detailContainer",children:[Object(N.jsx)("div",{className:"imageContainer",children:Object(N.jsx)("img",{className:"poster",alt:e.selectedMovie.title,src:e.selectedMovie.poster})}),Object(N.jsxs)("div",{className:"movieInformationContainer",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"starRateContainer",children:Object(N.jsx)(I.a,{name:"disabled",disabled:!0,value:e.selectedMovie.imdb_rating/2})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"titleContainer",children:e.selectedMovie.title}),"\xa0",Object(N.jsxs)("div",{className:"ratingContainer",children:["(",e.selectedMovie.imdb_rating,"/10)"]})]})]}),Object(N.jsxs)("div",{className:"directorContainer",children:[new Date(e.selectedMovie.released_on).getFullYear()," |"," ",e.selectedMovie.length," | ",e.selectedMovie.director]}),Object(N.jsx)("div",{className:"castsContainer",children:Object(N.jsxs)("b",{children:["Cast: ",e.selectedMovie.cast.join(", ")]})}),Object(N.jsx)("div",{className:"overViewContainer",children:e.selectedMovie.overview})]})]}),Object(N.jsx)("div",{className:"closeButtonContainer",children:Object(N.jsx)(R.a,{onClick:r})})]}),s):null}))),A=(n(113),Object(s.b)((function(e){return{selectedMovie:e.movies.selectedMovie}}))((function(e){return Object(N.jsxs)("div",{className:"appContainer",children:[Object(N.jsx)(k,{}),Object(N.jsx)(w,{}),e.selectedMovie&&Object(N.jsx)(L,{})]})}))),G=n(18),D={list:{},selectedMovie:null,isFetching:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIES":return Object(G.a)(Object(G.a)({},e),{},{list:Object(G.a)({},g.a.mapKeys(t.payload,"id")),isFetching:!1});case"SELECT_MOVIE":return Object(G.a)(Object(G.a)({},e),{},{selectedMovie:t.payload});case"START_FETCHING":return Object(G.a)(Object(G.a)({},e),{},{isFetching:!0});default:return e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GENRES":return t.payload;default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLY_SEARCH":return t.payload;default:return e}},q=Object(o.c)({movies:P,genres:V,searchTerm:H}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Y=Object(o.e)(q,B(Object(o.a)(l.a)));a.a.render(Object(N.jsx)(s.a,{store:Y,children:Object(N.jsx)(A,{})}),document.querySelector("#root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.b77e651b.chunk.js.map